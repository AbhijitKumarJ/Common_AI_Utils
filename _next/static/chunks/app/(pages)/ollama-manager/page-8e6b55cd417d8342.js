(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[960],{4144:function(e,l,t){Promise.resolve().then(t.bind(t,8652))},8652:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return d}});var a=t(7437),s=t(2265),n=t(7138),o=t(8472);let r=["llama2","codellama","mistral","dolphin-mixtral","phi","llama2-uncensored","deepseek-coder","zephyr","orca-mini","vicuna","stable-beluga","neural-chat","starling-lm","wizardlm","openhermes","wizard-vicuna","falcon","starcoder","wizardcoder","sqlcoder","stablelm-zephyr","nous-hermes","openchat","orca","llama2-chinese","codeup","everythinglm","phind-codellama","yarn-llama","meditron","llama-pro","medllama2","wizardlm-uncensored","magicoder","mistrallite","samantha-mistral","dolphin-phi","nexusraven","openorca-platypus2","yi","wizard-math","notus","rift-coder","falcon2","xwinlm","deepseek-llm","tinyllama","notux","stable-code","llama2-70b-stealth"];function d(){let[e,l]=(0,s.useState)("http://localhost:11434"),[t,d]=(0,s.useState)([]),[c,i]=(0,s.useState)(null),[u,m]=(0,s.useState)(!1),[h,x]=(0,s.useState)(""),[b,g]=(0,s.useState)("Hello, how are you?"),[p,f]=(0,s.useState)(""),[y,w]=(0,s.useState)(!1),[v,j]=(0,s.useState)(!1),[N,C]=(0,s.useState)(""),[k,S]=(0,s.useState)(!1),[z,P]=(0,s.useState)(""),[O,Z]=(0,s.useState)([]),[E,F]=(0,s.useState)(""),[_,D]=(0,s.useState)(!1),J=(0,s.useRef)(null),[L,M]=(0,s.useState)(""),[T,R]=(0,s.useState)([]);(0,s.useEffect)(()=>{A()},[e]);let A=async()=>{m(!0),x("");try{let l=await o.Z.get("".concat(e,"/api/tags"));d(l.data.models)}catch(e){x("Failed to fetch models"),console.error(e)}m(!1)},U=async l=>{i(l);try{let t=await o.Z.post("".concat(e,"/api/show"),{name:l.name});i({...l,details:t.data})}catch(e){x("Failed to fetch model details"),console.error(e)}},q=async l=>{if(window.confirm("Are you sure you want to delete ".concat(l,"?")))try{await o.Z.delete("".concat(e,"/api/delete"),{data:{name:l}}),A()}catch(e){x("Failed to delete model"),console.error(e)}},H=async l=>{j(!0),i(l);try{let t=await o.Z.post("".concat(e,"/api/show"),{name:l.name});C(JSON.stringify(t.data,null,2))}catch(e){x("Failed to fetch model details"),console.error(e)}},B=async()=>{try{let l=JSON.parse(N);await o.Z.post("".concat(e,"/api/create"),l),j(!1),A()}catch(e){x("Failed to save model presets"),console.error(e)}},G=async e=>{w(!0),i({name:e,size:""})},I=async()=>{f("");try{let l=await o.Z.post("".concat(e,"/api/generate"),{model:null==c?void 0:c.name,prompt:b,stream:!1});f(JSON.stringify(l.data,null,2))}catch(e){f(JSON.stringify(e,null,2))}},K=async l=>{D(!0),F(""),J.current=new AbortController;try{let t=await o.Z.post("".concat(e,"/api/pull"),{name:l},{signal:J.current.signal,onDownloadProgress:e=>{let l=e.event.target.responseText;F(l)}});console.log("Pull completed:",t.data)}catch(e){o.Z.isCancel(e)?console.log("Pull cancelled"):(x("Failed to pull model"),console.error(e))}finally{D(!1),J.current=null}},Q=e=>{M(e),R([])};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Ollama Manager"}),(0,a.jsx)(n.default,{href:"/",children:(0,a.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Return to Dashboard"})})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("input",{type:"text",value:e,onChange:e=>{l(e.target.value)},className:"bg-gray-800 text-white p-2 rounded"}),(0,a.jsx)("button",{onClick:A,className:"ml-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Update URL"})]}),u&&(0,a.jsx)("p",{children:"Loading..."}),h&&(0,a.jsx)("p",{className:"text-red-500",children:h}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>(0,a.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:e.name}),(0,a.jsxs)("p",{children:["Size: ",e.size]}),(0,a.jsxs)("div",{className:"mt-2 flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>U(e),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-2 rounded",children:"Details"}),(0,a.jsx)("button",{onClick:()=>q(e.name),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded",children:"Delete"}),(0,a.jsx)("button",{onClick:()=>H(e),className:"bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-1 px-2 rounded",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>G(e.name),className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-1 px-2 rounded",children:"Test"})]})]},e.name))}),c&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg max-w-2xl w-full",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold mb-2",children:[c.name," Details"]}),(0,a.jsx)("pre",{className:"bg-gray-700 p-4 rounded overflow-auto max-h-96",children:JSON.stringify(c.details,null,2)}),(0,a.jsx)("button",{onClick:()=>i(null),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Close"})]})}),y&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg max-w-2xl w-full",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold mb-2",children:["Test ",null==c?void 0:c.name]}),(0,a.jsx)("textarea",{value:b,onChange:e=>g(e.target.value),className:"w-full h-32 bg-gray-700 text-white p-2 rounded mb-4"}),(0,a.jsx)("button",{onClick:I,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4",children:"Send Test"}),(0,a.jsx)("pre",{className:"bg-gray-700 p-4 rounded overflow-auto max-h-96",children:p}),(0,a.jsx)("button",{onClick:()=>w(!1),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Close"})]})}),v&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg max-w-2xl w-full",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold mb-2",children:["Edit ",null==c?void 0:c.name," Presets"]}),(0,a.jsx)("textarea",{value:N,onChange:e=>C(e.target.value),className:"w-full h-96 bg-gray-700 text-white p-2 rounded mb-4"}),(0,a.jsx)("button",{onClick:B,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mr-2",children:"Save"}),(0,a.jsx)("button",{onClick:()=>j(!1),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",children:"Cancel"})]})}),(0,a.jsx)("button",{onClick:()=>{S(!0)},className:"mt-4 bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded",children:"Pull Model"}),k&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg max-w-2xl w-full",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Pull Ollama Model"}),(0,a.jsxs)("div",{className:"relative mb-4",children:[(0,a.jsx)("input",{type:"text",value:L,onChange:e=>{let l=e.target.value;M(l),R(r.filter(e=>e.toLowerCase().includes(l.toLowerCase())))},className:"w-full p-2 bg-gray-700 text-white rounded",placeholder:"Enter or select a model name..."}),T.length>0&&(0,a.jsx)("ul",{className:"absolute z-10 w-full bg-gray-700 mt-1 rounded max-h-48 overflow-y-auto",children:T.map(e=>(0,a.jsx)("li",{className:"p-2 hover:bg-gray-600 cursor-pointer",onClick:()=>Q(e),children:e},e))})]}),(0,a.jsx)("button",{onClick:()=>K(L),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mr-2",disabled:_||!L.trim(),children:"Pull Model"}),(0,a.jsx)("button",{onClick:()=>S(!1),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",children:"Cancel"}),_&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h3",{className:"font-bold mb-2",children:"Pull Progress:"}),(0,a.jsx)("pre",{className:"bg-gray-700 p-2 rounded mb-2 max-h-32 overflow-y-auto",children:E}),(0,a.jsx)("button",{onClick:()=>{J.current&&J.current.abort()},className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded",children:"Cancel Pull"})]})]})})]})}}},function(e){e.O(0,[231,438,971,23,744],function(){return e(e.s=4144)}),_N_E=e.O()}]);